#!/usr/bin/env ruby
# frozen_string_literal: true

require 'bundler/setup'
require 'overnight/nightscout'

nightscout = Overnight::Nightscout.new.get
entries, devices, status = nightscout.fetch_values(:entry, :device_status, :status)
loop = devices.first

puts status
puts entries.reverse
puts format('%s: Loop predicts:', loop.timestamp.localtime)
puts loop.predicted
