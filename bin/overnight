#!/usr/bin/env ruby
# frozen_string_literal: true

require 'bundler/setup'
require 'overnight/nightscout'

nightscout = Overnight::Nightscout.new
data = nightscout.get
loop = data[:device_status].first

puts data[:status]
puts data[:entry].reverse
puts format('%s: Loop predicts:', loop.timestamp.localtime)
puts loop.predicted
